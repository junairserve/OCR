# 製造番号 紐づけ（OCR）プロトタイプ

## できること
- スマホで銘板/刻印を撮影 → OCRで
  - 本体：SN:00000000（桁数可変）
  - 基板：PCB-2503-0123（パターン調整可）
  を抽出
- 抽出した「本体SN」と「基板番号」を紐づけして保存（GAS→スプレッドシート追記）

## 前提
- QRコードは使わない
- OCRは Tesseract.js（CDN）を利用
  - 社内ネットワーク制限がある場合は、Tesseract.jsを社内サーバに配置してください

## 使い方（フロント）
1. このフォルダの `index.html` をスマホで開ける場所に置く
   - 例：社内Webサーバ / GitHub Pages / ローカルサーバ など
2. 画面下部「設定」で `GAS Webhook URL` を入れて保存
3. 「本体を撮影」→「基板を撮影」→「保存」

## 使い方（GAS）
1. Googleスプレッドシートを作成
2. スプレッドシートのID（URLの /d/ と /edit の間）をコピー
3. Apps Script に `gas.gs` のコードを貼り付け、`SPREADSHEET_ID` を設定
4. デプロイ → 新しいデプロイ → ウェブアプリ
   - 実行ユーザー：自分
   - アクセス：全員（または社内ポリシーに合わせる）
5. 発行URLをフロントの設定へ

## パターン調整（重要）
- 本体SNは `SN:<数字>` を抽出します。
  - 桁数：画面設定 `SN桁数`
- 基板番号は `extractPcb()` の正規表現を基板仕様に合わせて調整してください。

## 運用のコツ
- 刻印/印字は「英大文字＋数字＋ハイフン」推奨
- SNは `SN:`（大文字＋コロン）で必ず統一
- 文字高2〜3mm以上、影にならない位置がOCR安定します
